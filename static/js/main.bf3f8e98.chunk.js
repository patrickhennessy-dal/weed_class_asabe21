(this.webpackJsonpweed_class_asabe21=this.webpackJsonpweed_class_asabe21||[]).push([[0],{257:function(e,t,n){},264:function(e,t){},265:function(e,t){},273:function(e,t){},276:function(e,t){},277:function(e,t){},278:function(e,t,n){"use strict";n.r(t);var s=n(58),c=n.n(s),a=n(232),r=n.n(a),i=(n(257),n.p+"static/media/Logo_CPU.34e63f65.svg"),l=n(36),o=function(e){e.title;return Object(l.jsx)("header",{className:"header",children:Object(l.jsxs)("h1",{className:"centreColumn",children:[Object(l.jsx)("img",{className:"logoCPU",src:i,alt:"Logo"}),"CNN Weed Classifier"]})})},d=function(){return Object(l.jsxs)("div",{className:"intro text centreColumn",children:[Object(l.jsxs)("p",{children:["This is an application for classifying weeds in wild blueberry fields. The currently supported weeds are hair fescue, sheep sorrel, hawkweed, goldenrod, and bunchberry. This applicaton was presented at ASABE AIM 2021 with a ",Object(l.jsx)("a",{href:"https://www.asabemeetings.org/",children:"corresponding paper"})," in the conference proceedings."]}),Object(l.jsx)("p",{children:"To use the application, capture an image of the weed from directly above from a height of around 1 metre. Alternatively, download sample images below. Then, upload the image and let the deep learning algorithm do the work!"})]})},u=n(4),h=n.n(u),j=n(11),b=n(6),f=n(136),p=function(){var e=Object(s.useState)(!1),t=Object(b.a)(e,2),n=t[0],c=t[1],a=Object(s.useState)(null),r=Object(b.a)(a,2),i=r[0],o=r[1],d=Object(s.useState)(null),u=Object(b.a)(d,2),p=u[0],m=u[1],g=Object(s.useState)([]),O=Object(b.a)(g,2),x=O[0],w=O[1],v=Object(s.useState)([]),N=Object(b.a)(v,2),y=N[0],C=N[1],k=["Goldenrod","Hawkweed","Bunchberry","Sheep Sorrel","No Weeds","Hair Fescue"],S=Object(s.useRef)(),A=Object(s.useRef)(),P=function(){var e=Object(j.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c(!0),e.prev=1,e.next=4,f.e("https://cdn.jsdelivr.net/gh/patrickhennessy-dal/weed_class_asabe21/src/assets/modelMN/model.json");case 4:t=e.sent,o(t),c(!1),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),console.log(e.t0),c(!1);case 13:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(){return e.apply(this,arguments)}}(),B=function(){var e=Object(j.a)(h.a.mark((function e(){var t,n,s;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.b.fromPixelsAsync(S.current);case 2:return t=e.sent,t=f.c(t,0),t=f.d.resizeBilinear(t,[224,224]),e.next=7,i.predict(t);case 7:n=e.sent,s=f.a(n,1),w(k[s.dataSync()[0]]),C(n.dataSync()[s.dataSync()[0]]);case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(s.useEffect)((function(){P()}),[]),n?Object(l.jsx)("h2",{children:"Model Loading..."}):Object(l.jsx)("div",{className:"classifier",children:Object(l.jsxs)("div",{className:"mainWrapper centreColumn",children:[Object(l.jsxs)("div",{className:"mainContent",children:[Object(l.jsx)("div",{className:"imageHolder",children:p&&Object(l.jsx)("img",{src:p,className:"image",alt:"Upload Preview",crossOrigin:"anonymous",ref:S})}),x.length>0&&Object(l.jsx)("div",{className:"resultsHolder text",children:Object(l.jsxs)("div",{className:"result",children:[Object(l.jsx)("span",{className:"name",children:Object(l.jsxs)("p",{children:["Result: ",x," "]})}),Object(l.jsxs)("span",{className:"confidence",children:["Confidence level: ",(100*y).toFixed(2)," %"]})]},x.className)})]}),Object(l.jsxs)("div",{className:"inputHolder",children:[Object(l.jsx)("input",{type:"file",accept:"image/*",capture:"camera",className:"uploadInput",onChange:function(e){var t=e.target.files;if(t.length>0){var n=URL.createObjectURL(t[0]);m(n)}else m(null)},ref:A}),Object(l.jsxs)("div",{className:"btnHolder",children:[Object(l.jsx)("button",{className:"ctrlBtn",onClick:function(){A.current.click()},children:"Upload Image"}),p&&Object(l.jsx)("button",{className:"ctrlBtn",onClick:B,children:"Identify Image"})]})]})]})})},m=function(){return Object(l.jsxs)("div",{className:"text centreColumn",children:[Object(l.jsx)("h2",{children:"Acknowledgements"}),Object(l.jsx)("p",{children:"This work was supported by Mitacs through the Mitacs Accelerate Program. Additional funding for this research was provided by Natural Sciences and Engineering Research Council of Canada Discovery Grants Program (RGPIN-06295-2019), Doug Bragg Enterprises, Ltd, and New Brunswick Canadian Agricultural Partnership (CAP). The authors would like to thank the wild blueberry growers in Nova Scotia for use of their fields during image collection. Also, the authors acknowledge the efforts of the mechanized systems and precision agriculture research teams at Dalhousie University\u2019s Faculty of Agriculture."})]})};var g=function(){return Object(l.jsxs)("div",{className:"container",children:[Object(l.jsx)(o,{}),Object(l.jsx)(d,{}),Object(l.jsx)(p,{}),Object(l.jsx)(m,{})]})},O=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,279)).then((function(t){var n=t.getCLS,s=t.getFID,c=t.getFCP,a=t.getLCP,r=t.getTTFB;n(e),s(e),c(e),a(e),r(e)}))};r.a.render(Object(l.jsx)(c.a.StrictMode,{children:Object(l.jsx)(g,{})}),document.getElementById("root")),O()}},[[278,1,2]]]);
//# sourceMappingURL=main.bf3f8e98.chunk.js.map