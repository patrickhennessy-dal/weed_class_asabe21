(this.webpackJsonpweed_class_asabe21=this.webpackJsonpweed_class_asabe21||[]).push([[0],{257:function(e,t,n){},264:function(e,t){},265:function(e,t){},273:function(e,t){},276:function(e,t){},277:function(e,t){},278:function(e,t,n){"use strict";n.r(t);var a=n(54),r=n.n(a),c=n(232),s=n.n(c),i=(n(257),n.p+"static/media/Logo_CPU.34e63f65.svg"),o=n(30),l=function(e){e.title;return Object(o.jsx)("header",{className:"header",children:Object(o.jsxs)("h1",{className:"centreColumn",children:[Object(o.jsx)("img",{className:"logoCPU",src:i,alt:"Logo"}),"CNN Weed Classifier"]})})},d=function(){return Object(o.jsxs)("div",{className:"intro text centreColumn",children:[Object(o.jsxs)("p",{children:["This is an application for classifying weeds in wild blueberry fields using the MobileNet Convolutional Neural Network. The currently supported weeds are hair fescue, sheep sorrel, hawkweed, goldenrod, and bunchberry. This applicaton was presented at ASABE AIM 2021 with a ",Object(o.jsx)("a",{href:"https://www.asabemeetings.org/",target:"_blank",rel:"noopener noreferrer",children:"corresponding paper"})," in the conference proceedings."]}),Object(o.jsxs)("p",{children:["To use the application, capture an image of the weed from directly above from a height of around 1 metre. Alternatively, download some ",Object(o.jsx)("a",{href:"https://www.dropbox.com/sh/tk734ttl2k6yw4n/AAAoJ4cJfgmjSatJYAh-JhYla?dl=0",target:"_blank",rel:"noopener noreferrer",children:"sample images"}),". Then, upload the image and let the deep learning algorithm do the work!"]})]})},u=n(4),h=n.n(u),j=n(11),b=n(6),p=n(136),m=function(){var e=Object(a.useState)(!1),t=Object(b.a)(e,2),n=t[0],r=t[1],c=Object(a.useState)(null),s=Object(b.a)(c,2),i=s[0],l=s[1],d=Object(a.useState)(null),u=Object(b.a)(d,2),m=u[0],f=u[1],g=Object(a.useState)([]),O=Object(b.a)(g,2),x=O[0],w=O[1],N=Object(a.useState)([]),v=Object(b.a)(N,2),y=v[0],k=v[1],C=["Goldenrod","Hawkweed","Bunchberry","Sheep Sorrel","No Weeds","Hair Fescue"],A=Object(a.useRef)(),S=Object(a.useRef)(),P=function(){var e=Object(j.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r(!0),e.prev=1,e.next=4,p.e("https://cdn.jsdelivr.net/gh/patrickhennessy-dal/weed_class_asabe21/src/assets/modelMN/model.json");case 4:t=e.sent,l(t),r(!1),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),console.log(e.t0),r(!1);case 13:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(){return e.apply(this,arguments)}}(),B=function(){var e=Object(j.a)(h.a.mark((function e(){var t,n,a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.b.fromPixelsAsync(A.current);case 2:return t=e.sent,t=p.c(t,0),t=p.d.resizeBilinear(t,[224,224]),e.next=7,i.predict(t);case 7:n=e.sent,a=p.a(n,1),w(C[a.dataSync()[0]]),k(n.dataSync()[a.dataSync()[0]]);case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){P()}),[]),n?Object(o.jsx)("h2",{className:"centreColumn",children:"Loading..."}):Object(o.jsx)("div",{className:"classifier",children:Object(o.jsxs)("div",{className:"mainWrapper centreColumn",children:[Object(o.jsxs)("div",{className:"mainContent",children:[Object(o.jsx)("div",{className:"imageHolder",children:m&&Object(o.jsx)("img",{src:m,className:"image",alt:"Upload Preview",crossOrigin:"anonymous",ref:A})}),x.length>0&&Object(o.jsx)("div",{className:"resultsHolder text",children:Object(o.jsxs)("div",{className:"result",children:[Object(o.jsx)("span",{className:"name",children:Object(o.jsxs)("p",{children:["Result: ",x," "]})}),Object(o.jsxs)("span",{className:"confidence",children:["Confidence level: ",(100*y).toFixed(2)," %"]})]},x.className)})]}),Object(o.jsxs)("div",{className:"inputHolder",children:[Object(o.jsx)("input",{type:"file",accept:"image/*",capture:"camera",className:"uploadInput",onChange:function(e){var t=e.target.files;if(t.length>0){var n=URL.createObjectURL(t[0]);f(n)}else f(null)},ref:S}),Object(o.jsxs)("div",{className:"btnHolder",children:[Object(o.jsx)("button",{className:"ctrlBtn",onClick:function(){S.current.click()},children:"Upload Image"}),m&&Object(o.jsx)("button",{className:"ctrlBtn",onClick:B,children:"Identify Image"})]})]})]})})},f=function(){return Object(o.jsxs)("div",{className:"text centreColumn",children:[Object(o.jsx)("h2",{children:"Acknowledgements"}),Object(o.jsx)("p",{children:"This work was supported by Mitacs through the Mitacs Accelerate Program (IT23150), in partnership with the Wild Blueberry Producers Association of Nova Scotia. Additional funding for this research was provided by Natural Sciences and Engineering Research Council of Canada Discovery Grants Program (RGPIN-06295-2019), Doug Bragg Enterprises, Ltd, and New Brunswick Canadian Agricultural Partnership (CAP). The authors would like to thank the wild blueberry growers in Nova Scotia for use of their fields during image collection. Also, the authors acknowledge the efforts of the mechanized systems and precision agriculture research teams at Dalhousie University\u2019s Faculty of Agriculture."})]})},g=function(){return Object(o.jsxs)("div",{className:"cite text centreColumn",children:[Object(o.jsx)("h2",{children:"Cite"}),Object(o.jsxs)("p",{children:["If you wish to use this work, please cite our ",Object(o.jsx)("a",{href:"https://www.asabemeetings.org/",target:"_blank",rel:"noopener noreferrer",children:"paper"})," in the ASABE AIM 2021 conference proceedings:"]}),Object(o.jsx)("pre",{className:"citeCode",children:Object(o.jsx)("span",{children:"const citation = () => {\n    title       = 'Convolutional Neural Network Web Application for Aiding Field Management in Wild Blueberry';\n    authors     = ['Patrick J. Hennessy', 'Travis J. Esau', 'Arnold W. Schumann', 'Aitazaz A. Farooque', 'Scott N. White', 'Qamar U. Zaman'];\n    year        = 2021;\n    procTitle   = '2021 ASABE Annual International Meeting';\n    procCity    = 'Virtual';\n    doi         = '10.13031/aim.2100661';\n};"})})]})},O=function(){return Object(o.jsxs)("footer",{className:"footer",children:[Object(o.jsx)("p",{className:"centreColumn",children:"\xa9 2021 Patrick J. Hennessy, Dalhousie University, and The Wild Blueberry Producers Association of Nova Scotia"}),Object(o.jsx)("p",{className:"centreColumn",children:Object(o.jsx)("a",{className:"contactLink",href:"mailto:Patrick.Hennessy@Dal.ca",children:"Contact"})})]})};var x=function(){return Object(o.jsxs)("div",{className:"container",children:[Object(o.jsx)(l,{}),Object(o.jsx)(d,{}),Object(o.jsx)(m,{}),Object(o.jsx)(f,{}),Object(o.jsx)(g,{}),Object(o.jsx)(O,{})]})},w=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,279)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,c=t.getLCP,s=t.getTTFB;n(e),a(e),r(e),c(e),s(e)}))};s.a.render(Object(o.jsx)(r.a.StrictMode,{children:Object(o.jsx)(x,{})}),document.getElementById("root")),w()}},[[278,1,2]]]);
//# sourceMappingURL=main.a588dab5.chunk.js.map